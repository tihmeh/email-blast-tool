<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Email Blaster 4000</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body { margin:0; font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,sans-serif; background:#050816; color:#e5e7eb; }
* { box-sizing:border-box; }

/* LOCKSCREEN -------------------------------------------------- */
#loginScreen {
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:radial-gradient(circle at top,#020617,#000); z-index:20;
}
.login-card {
  background:#0b1120; padding:26px 22px 18px; width:320px; border-radius:24px;
  text-align:center; border:1px solid rgba(148,163,184,0.4); box-shadow:0 16px 40px rgba(0,0,0,0.6);
}
.login-lock {
  width:60px; height:60px; margin:0 auto 12px; border-radius:20px; font-size:26px;
  background:conic-gradient(from 180deg,#22c55e,#16a34a,#22c55e);
  display:flex; align-items:center; justify-content:center;
}
.login-title { font-size:20px; font-weight:700; margin-bottom:4px; }
.login-sub { font-size:12px; color:#9ca3af; margin-bottom:14px; }
.login-input {
  width:100%; padding:9px 10px; border-radius:10px; border:1px solid rgba(148,163,184,0.6);
  background:#020617; color:#e5e7eb; margin-bottom:8px;
}
.btn { padding:8px 14px; border-radius:999px; cursor:pointer; border:none; font-size:13px; }
.btn-primary { background:linear-gradient(135deg,#22c55e,#16a34a); color:#022c22; }
.login-hint { margin-top:6px; font-size:11px; color:#9ca3af; }

/* APP LAYOUT -------------------------------------------------- */
.app-shell { display:none; max-width:1280px; margin:0 auto; padding:10px; }
.app-topbar {
  display:flex; justify-content:space-between; align-items:center;
  background:#0f172a; border:1px solid #1e293b; border-radius:14px;
  padding:8px 12px; margin-bottom:10px;
}
.app-title-main { font-size:15px; font-weight:600; }
.app-title-sub { font-size:11px; color:#9ca3af; }

/* MAIN LAYOUT -------------------------------------------------- */
.app-main {
  display:grid; grid-template-columns:220px minmax(0,1fr) 300px;
  gap:10px;
}
@media(max-width:1000px){ .app-main{grid-template-columns:1fr;} }

/* SIDEBAR ------------------------------------------------------ */
.sidebar {
  background:#0f172a; border-radius:14px; border:1px solid #1e293b; padding:10px;
}
.sidebar h3 { font-size:11px; font-weight:600; margin:0 0 8px; color:#9ca3af; }
.sidebar button {
  width:100%; padding:7px 9px; margin-bottom:4px; border-radius:999px;
  border:none; cursor:pointer; background:#1f2937; color:#9ca3af; font-size:13px; text-align:left;
}
.sidebar button.active { background:#22c55e; color:#022c22; }

/* PANELS -------------------------------------------------------- */
.panel {
  background:#0f172a; border-radius:14px; border:1px solid #1e293b;
  padding:10px; display:flex; flex-direction:column;
}

.panel h2 { margin:0 0 6px; font-size:14px; }
.panel small { font-size:11px; color:#9ca3af; }

/* CONTACT PANEL ------------------------------------------------ */
.search-input {
  width:100%; padding:7px 9px; border-radius:999px; border:1px solid #1e293b;
  background:#1f2937; color:#e5e7eb; font-size:13px; margin-bottom:8px;
}

.accordion-section { margin-bottom:10px; border:1px solid #1e293b; border-radius:10px; }
.accordion-header {
  padding:8px; background:#1f2937; cursor:pointer; font-size:13px; border-radius:10px 10px 0 0;
}
.accordion-header:hover { background:#374151; }
.accordion-body {
  max-height:0; overflow:hidden; transition:max-height 0.2s ease; background:#111827;
}
.accordion-body.open { padding:6px; max-height:300px; overflow-y:auto; }

.contact {
  padding:6px; border-bottom:1px solid #1e293b; cursor:pointer; border-radius:6px;
}
.contact:hover { background:#1f2937; }
.contact.selected { background:rgba(34,197,94,0.18); border-left:3px solid #22c55e; }
.contact .tag {
  display:inline-block; font-size:10px; padding:2px 6px;
  border:1px solid #374151; border-radius:999px; margin-top:3px;
}

/* RIGHT PANEL -------------------------------------------------- */
textarea {
  width:100%; min-height:80px; padding:6px 8px; background:#1f2937; color:#e5e7eb;
  border:1px solid #1e293b; border-radius:10px; font-size:12px; resize:vertical;
}
</style>
</head>

<body>

<!-- LOCK SCREEN -->
<div id="loginScreen">
  <div class="login-card">
    <div class="login-lock">üîí</div>
    <div class="login-title">Email Blaster 4000</div>
    <div class="login-sub">Encrypted outbound console. Enter access key.</div>
    <input id="passwordInput" class="login-input" type="password" placeholder="Access key">
    <button id="loginBtn" class="btn btn-primary" style="width:100%;margin-top:4px;">Unlock EB4000</button>
    <div class="login-hint">Hint: <code>sales</code></div>
  </div>
</div>

<!-- APP ---------------------------------------------------------->
<div class="app-shell" id="appShell">
  <header class="app-topbar">
    <div>
      <div class="app-title-main">Email Blaster 4000 ‚Ä¢ EB4K</div>
      <div class="app-title-sub">Prospects ‚Ä¢ Pipelines ‚Ä¢ Public Sector</div>
    </div>
    <div style="font-size:12px;color:#9ca3af;">
      Total: <span id="totalCount">0</span> ‚Ä¢ Selected: <span id="selectedCount">0</span>
    </div>
  </header>

  <main class="app-main">

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <h3>Views</h3>
      <button class="active" data-view="contactsView">üë• Contacts</button>
      <button data-view="notesView">üìù Notes</button>
      <button data-view="tasksView">‚úÖ Tasks</button>
      <button data-view="templatesView">‚úâÔ∏è Templates</button>
    </aside>

    <!-- CONTACT PANEL -->
    <section class="panel" id="contactsView">
      <h2>Contacts</h2>
      <small>Select by vertical, scroll inside each box, copy emails.</small>

      <input id="searchInput" class="search-input" placeholder="Search...">

      <button id="copySelected" class="btn btn-primary" style="margin-bottom:10px;">Copy Selected Emails</button>

      <div id="accordionContainer"></div>
    </section>

    <!-- RIGHT PANEL -->
    <section class="panel" id="rightPanel">
      <div>
        <h2>Notes</h2>
        <textarea id="notesArea"></textarea>
      </div>
      <div>
        <h2>Tasks</h2>
        <textarea id="tasksArea"></textarea>
      </div>
      <div>
        <h2>Templates</h2>
        <textarea id="templatesArea"></textarea>
      </div>
    </section>

  </main>
</div>

<script>
// ============================================================================
// MASTER CONTACT LIST (SAMPLE)
// Full list goes here when you're ready.
// ============================================================================
[
  {
    "name": "Patrick Irby",
    "email": "scp@alachuacounty.us",
    "title": "Solid Waste Director",
    "org": "Alachua County",
    "vertical": "Utilities"
  },
  {
    "name": "Robert Fletcher",
    "email": "roaddept@bakercountyfl.org",
    "title": "Solid Waste Director",
    "org": "Baker County",
    "vertical": "Utilities"
  },
  {
    "name": "Glenn Ogborn",
    "email": "gogborn@baycountyfl.gov",
    "title": "Solid Waste Superintendent",
    "org": "Bay County",
    "vertical": "Utilities"
  },
  {
    "name": "Bennie Jackson Jr",
    "email": "bennie_jackson@bradfordcountyfl.gov",
    "title": "Solid Waste Director",
    "org": "Bradford County",
    "vertical": "Utilities"
  },
  {
    "name": "Thomas Mulligan",
    "email": "thomas.mulligan@brevardcounty.gov",
    "title": "Solid Waste Director",
    "org": "Brevard County",
    "vertical": "Utilities"
  },
  {
    "name": "Jeff Turpin",
    "email": "jturpin@broward.org",
    "title": "Director",
    "org": "Broward County Waste & Recycling",
    "vertical": "Utilities"
  },
  {
    "name": "Sheridan Boyle",
    "email": "sheridan.boyle@myclearwater.com",
    "title": "Recycling Specialist",
    "org": "City of Clearwater",
    "vertical": "City Government"
  },
  {
    "name": "James Roberto",
    "email": "countyrecycling@aol.com",
    "title": "Owner",
    "org": "County Sanitation",
    "vertical": "Haulers"
  }
]

// ============================================================================
// IF YOU WANT THE FULL LIST, SAY: "Send full contact list JSON"
// ============================================================================

// ============================================================================
// LOCKSCREEN
// ============================================================================
const loginScreen = document.getElementById("loginScreen");
const appShell = document.getElementById("appShell");
const loginBtn = document.getElementById("loginBtn");
const passwordInput = document.getElementById("passwordInput");

loginBtn.onclick = () => {
  if (passwordInput.value === "sales") {
    loginScreen.style.display = "none";
    appShell.style.display = "block";
  } else alert("Incorrect key");
};
passwordInput.onkeydown = e => { if (e.key==="Enter") loginBtn.onclick(); };

// ============================================================================
// GLOBAL STATE
// ============================================================================
let selected = new Set();
let searchQuery = "";

// ============================================================================
// ACCORDION RENDERING
// ============================================================================
const accordionContainer = document.getElementById("accordionContainer");

const VERTICALS = [
  "K-12",
  "Public Sector",
  "Higher Education",
  "Transit",
  "City Government",
  "Utilities",
  "Haulers",
  "Consultants",
  "State Agencies"
];

function renderAccordion() {
  accordionContainer.innerHTML = "";

  VERTICALS.forEach(vertical => {
    const section = document.createElement("div");
    section.className = "accordion-section";

    const header = document.createElement("div");
    header.className = "accordion-header";
    header.textContent = vertical + " (" + CONTACTS.filter(c => c.vertical === vertical).length + ")";
    
    const body = document.createElement("div");
    body.className = "accordion-body";

    header.onclick = () => body.classList.toggle("open");

    accordionContainer.appendChild(section);
    section.appendChild(header);
    section.appendChild(body);

    renderVerticalList(vertical, body);
  });
}

function renderVerticalList(vertical, container) {
  container.innerHTML = "";

  CONTACTS.filter(c =>
    c.vertical === vertical &&
    (c.name + c.email + c.org + c.title).toLowerCase().includes(searchQuery)
  )
  .forEach(c => {
    const div = document.createElement("div");
    div.className = "contact" + (selected.has(c.email) ? " selected" : "");
    div.innerHTML = `
      <div class="name">${c.name}</div>
      <div class="meta">${c.title} ‚Äî ${c.org}</div>
      <div class="meta">${c.email}</div>
      <span class="tag">${c.vertical}</span>
    `;
    div.onclick = () => {
      if (selected.has(c.email)) selected.delete(c.email);
      else selected.add(c.email);
      updateCounts();
      renderAccordion();
    };
    container.appendChild(div);
  });
}

// ============================================================================
// SEARCH
// ============================================================================
document.getElementById("searchInput").oninput = e => {
  searchQuery = e.target.value.toLowerCase();
  renderAccordion();
};

// ============================================================================
// COPY SELECTED
// ============================================================================
document.getElementById("copySelected").onclick = () => {
  if (!selected.size) return alert("No contacts selected.");
  navigator.clipboard.writeText([...selected].join("; ")).then(() => {
    alert("Copied " + selected.size + " emails.");
  });
};

// ============================================================================
// COUNTS
// ============================================================================
function updateCounts() {
  document.getElementById("totalCount").textContent = CONTACTS.length;
  document.getElementById("selectedCount").textContent = selected.size;
}
updateCounts();
renderAccordion();

// ============================================================================
// VIEW SWITCHING
// ============================================================================
const sidebarButtons = document.querySelectorAll(".sidebar button");
sidebarButtons.forEach(btn => {
  btn.onclick = () => {
    sidebarButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    document.getElementById("contactsView").style.display = btn.dataset.view==="contactsView" ? "flex" : "none";
    document.getElementById("notesView").style.display = btn.dataset.view==="notesView" ? "block" : "none";
    document.getElementById("tasksView").style.display = btn.dataset.view==="tasksView" ? "block" : "none";
    document.getElementById("templatesView").style.display = btn.dataset.view==="templatesView" ? "block" : "none";
  };
});
</script>
</body>
</html>
